You are an Automated Program Repair Tool.
The following code contains a buggy line that has been removed:
    public static Class<?>[] toClass(Object[] array) {
        if (array == null) {
            return null;
        } else if (array.length == 0) {
            return ArrayUtils.EMPTY_CLASS_ARRAY;
        }
        Class<?>[] classes = new Class[array.length];
        for (int i = 0; i < array.length; i++) {
>>>[INFILL]<<<
        }
        return classes;
    }
This was the original buggy line which was removed by the infill location
            classes[i] = array[i].getClass();
The code fails on this test:
org.apache.commons.lang3.ClassUtilsTest::testToClass_object
on this test line:
        assertTrue(Arrays.equals(new Class[] { String.class, null, Double.class },
                ClassUtils.toClass(new Object[] { "Test", null, 99d })));
with the following test error:
java.lang.NullPointerException
Please provide the correct line at the infill location.
